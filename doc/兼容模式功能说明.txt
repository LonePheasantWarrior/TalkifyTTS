兼容模式

兼容模式的来由：
本TTS应用在搭配部分并不规范的阅读软件朗读内容时，会出现短时间内阅读软件向本软件提交了特别多非常夸张的文本合成请求（即使实际上第一句内容还没有完成朗读）。
造成这一问题的原因是阅读软件只会监听android.speech.tts.TextToSpeechService#onSynthesizeText是否返回，如果onSynthesizeText返回则会继续向TTS应用提交接下来的合成文本，并不会主动控制合成请求的频率。
这会带来很多的问题，由于我们的TTS应用会将收到的合成请求统一添加到com.github.lonepheasantwarrior.talkify.service.TalkifyTtsService#requestQueue中，势必会带来合成请求的积压进而带来更多意想不到的问题。

兼容模式的功能原理：
我们自己创建播放器，这样做的好处是可以得到实际语音的朗读进度。之所以这样做是为了同步返回onSynthesizeText。
在兼容模试下，我们在同一时间只会处理一项项合成任务，只有当现有的合成任务彻底完成后也就是朗读完毕后我们才会同步返回onSynthesizeText。

兼容模式的UI界面：
我们在现有的上拉抽屉设置页中增加一个开关选项，选项名为“兼容模式”。在该选项旁可以添加一个传统的“小问号”图标，当用户点击该问号图标则会弹出兼容模式的解释。解释内容为“兼容模式用于适配并不完全遵守谷歌TTS调用规范的阅读工具，使朗读功能可以正常工作”。

兼容模式的功能实现方案：
1.我们在工程的com.github.lonepheasantwarrior.talkify.util包下创建一个自己的播放器。对了在TalkifyTtsDemoService类中有一个现成的AudioTrack使用案例，可以用作参考。我们自己的播放器要求可以设置AudioAttributes和AudioFormat等参数的前提下还可以返回播放进度，这才是我们最关心的。
2.当“兼容模式”的开关处于打开状态时，我们限制同一时间仅允许受理一项合成任务，并且只有在当前合成任务音频播放完毕后才同步返回onSynthesizeText（使用我们内置的播放器来得到播放进度）。

注意：
1.我们的兼容模式尽可能不污染现有的功能实现。只有在“兼容模试“开启时才会用到我们内置的播放器，才会要求onSynthesizeText同步返回。
2.“兼容模式开关”的持久化应该与现有的selected_engine储存项同级，一同被SharedPreferencesAppConfigRepository所管理。